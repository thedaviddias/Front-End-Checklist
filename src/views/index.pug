extends base/layout

//- Block main
block main

  //- List of all sections in the order the mixin +section is called in the article section.
  //- Array is populate by
  - listSections = []

  //- Ids of each section generated by the mixin +section when called.
  - listSectionId = []

  //- Section with Ad and search (TODO: to enable after first launch)
  section.s-main__section.s-main__meta

  //-   include components/c-sponsor

  //-   include components/c-search

  //- Section with tag filter
  section.s-main__section.s-main__filter

    include components/c-tag-filter

  //- List each section (the order is linked to the order of the c-nav)
  //- _items is in the JSON injected in the view with gulp-data (called _project.json)
  article.s-main__section.s-main__checklist

    +checklist-section({
      dataSection: _items.head,
      sectionTitle: "Head"
    })

    +checklist-section({
      dataSection: _items.html,
      sectionTitle: "HTML"
    })

    +checklist-section({
      dataSection: _items.webfonts,
      sectionTitle: "Webfonts"
    })

    +checklist-section({
      dataSection: _items.css,
      sectionTitle: "CSS"
    })

    +checklist-section({
      dataSection: _items.javascript,
      sectionTitle: "JavaScript"
    })

    +checklist-section({
      dataSection: _items.images,
      sectionTitle: "Images"
    })

    +checklist-section({
      dataSection: _items.accessibility,
      sectionTitle: "Accessibility"
    })

    +checklist-section({
      dataSection: _items.performance,
      sectionTitle: "Performance"
    })

    +checklist-section({
      dataSection: _items.seo,
      sectionTitle: "SEO"
    })

  //- Form and navigation anchors
  //- Navigation is at the bottom of the page because of the `listSections` generated by each +section present in the article.
  header.s-main__section.s-main__header

    .s-header__checklist

      h2.s-header__checklist__title Report and navigation
      //- Form to create new checklist
      .s-header__checklist__el
        include components/c-new-form

      //- Navigation with anchors based on the sections
      .s-header__checklist__el
        include components/c-nav

      //- Letter notation based on number of items checked
      .s-header__checklist__el
        include components/c-notation
